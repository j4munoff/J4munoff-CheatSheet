# SMB

Aquí vemos formas de enumerar SMB válidas tanto para Windows como para Linux.

## CRACKMAPEXEC

Podemos averiguar sistema y recursos compartidos.

```bash

#Se averigua nombre de maquina y dominio.
crackmapexec smb 10.10.10.175

#Listar recursos compartidos
crackmapexec smb 10.10.10.175 --shares

```

## NetExec
NetExec, o nxc, es la evolución de crackmapexec.


```bash
# Fuerza bruta
nxc smb 172.17.0.2 -u bob -p MiRockYou.txt
```
## SMBCLIENT

Listar recursos de forma anónima:

```bash
smbclient -N -L //10.10.66.180/

# Especificamos versión de SMB
smbclient -L //10.10.10.3 -N --option="client min protocol=NT1"
```

Conectarnos a un recurso:

```bash
smbclient -N //10.10.66.180/Recur
```

## SMBMAP

Podemos listar los recursos compartidos. Smbmap nos dice además los permisos.

```bash
smbmap -H 10.10.118.96 -u 'null'
```